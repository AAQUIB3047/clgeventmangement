{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./MyBookings.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyBookings=()=>{const[bookings,setBookings]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchBookings();},[]);const fetchBookings=async()=>{try{const token=localStorage.getItem('access_token');const response=await axios.get('http://localhost:8000/api/registrations/my-registrations/',{headers:{Authorization:\"Bearer \".concat(token)}});setBookings(response.data);}catch(error){console.error('Error fetching bookings:',error);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"my-bookings\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Bookings \\uD83C\\uDFAB\"}),/*#__PURE__*/_jsx(\"p\",{children:\"View and manage all your event tickets\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading-grid\",children:[1,2,3].map(i=>/*#__PURE__*/_jsx(\"div\",{className:\"booking-card skeleton\"},i))}):bookings.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"bookings-grid\",children:bookings.map(booking=>{var _booking$event,_booking$event2,_booking$event3;return/*#__PURE__*/_jsxs(\"div\",{className:\"booking-card card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"booking-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:((_booking$event=booking.event)===null||_booking$event===void 0?void 0:_booking$event.title)||'Event'}),/*#__PURE__*/_jsx(\"span\",{className:\"booking-status\",children:\"\\u2713 Confirmed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"\\uD83D\\uDCC5 Date\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:new Date((_booking$event2=booking.event)===null||_booking$event2===void 0?void 0:_booking$event2.date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"\\uD83C\\uDF9F\\uFE0F Tickets\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value\",children:[booking.quantity,\" Tickets\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"\\uD83D\\uDCB0 Total\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value\",children:[\"\\u20B9\",(((_booking$event3=booking.event)===null||_booking$event3===void 0?void 0:_booking$event3.price)||0)*booking.quantity]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary btn-sm\",style:{width:'100%'},children:\"View Details\"})]},booking.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"empty-icon\",children:\"\\uD83C\\uDFAB\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"No bookings yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Start exploring events and book your first ticket!\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"btn btn-primary\",children:\"Explore Events\"})]})]})});};export default MyBookings;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","MyBookings","bookings","setBookings","loading","setLoading","fetchBookings","token","localStorage","getItem","response","get","headers","Authorization","concat","data","error","console","className","children","map","i","length","booking","_booking$event","_booking$event2","_booking$event3","event","title","Date","date","toLocaleDateString","quantity","price","style","width","id","href"],"sources":["C:/Users/admin/Desktop/ONE MORE/college_event_management/frontend/src/pages/MyBookings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './MyBookings.css';\r\n\r\nconst MyBookings = () => {\r\n  const [bookings, setBookings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchBookings();\r\n  }, []);\r\n\r\n  const fetchBookings = async () => {\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      const response = await axios.get(\r\n        'http://localhost:8000/api/registrations/my-registrations/',\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setBookings(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching bookings:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"my-bookings\">\r\n      <div className=\"container\">\r\n        <div className=\"page-header\">\r\n          <h1>My Bookings üé´</h1>\r\n          <p>View and manage all your event tickets</p>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"loading-grid\">\r\n            {[1, 2, 3].map(i => (\r\n              <div key={i} className=\"booking-card skeleton\"></div>\r\n            ))}\r\n          </div>\r\n        ) : bookings.length > 0 ? (\r\n          <div className=\"bookings-grid\">\r\n            {bookings.map(booking => (\r\n              <div key={booking.id} className=\"booking-card card\">\r\n                <div className=\"booking-header\">\r\n                  <h3>{booking.event?.title || 'Event'}</h3>\r\n                  <span className=\"booking-status\">‚úì Confirmed</span>\r\n                </div>\r\n                <div className=\"booking-details\">\r\n                  <div className=\"detail\">\r\n                    <span className=\"detail-label\">üìÖ Date</span>\r\n                    <span className=\"detail-value\">\r\n                      {new Date(booking.event?.date).toLocaleDateString()}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"detail\">\r\n                    <span className=\"detail-label\">üéüÔ∏è Tickets</span>\r\n                    <span className=\"detail-value\">{booking.quantity} Tickets</span>\r\n                  </div>\r\n                  <div className=\"detail\">\r\n                    <span className=\"detail-label\">üí∞ Total</span>\r\n                    <span className=\"detail-value\">\r\n                      ‚Çπ{(booking.event?.price || 0) * booking.quantity}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <button className=\"btn btn-secondary btn-sm\" style={{ width: '100%' }}>\r\n                  View Details\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"empty-state\">\r\n            <span className=\"empty-icon\">üé´</span>\r\n            <h2>No bookings yet</h2>\r\n            <p>Start exploring events and book your first ticket!</p>\r\n            <a href=\"/\" className=\"btn btn-primary\">\r\n              Explore Events\r\n            </a>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyBookings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}